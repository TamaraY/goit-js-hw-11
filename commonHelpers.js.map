{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const loader = document.querySelector('.loader');\n\nfunction searchImageByQueryy(query) {\n  const URL = 'https://pixabay.com/api/';\n\n  const API_KEY = '45322930-bdaa0e26907d60cc8a145e4be';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport { searchImageByQueryy };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet galleryLightbox;\n\nfunction galleryItems(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n\n  const imageItems = images.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => `\n    <div class=\"card\">\n    <a href=\"${largeImageURL}\" >\n      <img src=\"${webformatURL}\" alt=\"${tags}\" /> </a>\n      <div class=\"info\">\n<ul> \n           <li > <p class=\"info-name\"> Likes: </p> <p>${likes}</p></li>\n           <li ><p class=\"info-name\"> Views: </p> <p>${views}</p></li>\n          <li > <p class=\"info-name\"> Comments: </p> <p>${comments}</p></li>\n           <li ><p class=\"info-name\"> Downloads: </p> <p>${downloads}</p></li>\n      </ul>\n          </div>\n          </div>\n`\n  );\n\n  gallery.insertAdjacentHTML('beforeend', imageItems.join(''));\n\n  if (galleryLightbox) {\n    galleryLightbox.refresh();\n  } else {\n    galleryLightbox = new SimpleLightbox('.gallery a', {});\n  }\n}\n\nexport { galleryItems };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImageByQueryy } from './js/pixabay-api.js';\nimport { galleryItems } from './js/render-functions';\n\nconst searchForm = document.querySelector('#search-form');\nconst searchInput = document.querySelector('input[name=\"query\"]');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const userQuery = searchInput.value.trim();\n\n  if (!userQuery) {\n    return iziToast.show({\n      position: 'center',\n      backgroundColor: 'orange',\n      message: 'Please fill in a search field.',\n    });\n  }\n\n  loader.style.display = 'block';\n\n  searchImageByQueryy(userQuery)\n    .then(data => {\n      loader.style.display = 'none';\n      if (data.hits.length === 0) {\n        return iziToast.show({\n          position: 'topRight',\n          backgroundColor: 'red',\n          messageColor: 'white',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      iziToast.show({\n        position: 'topRight',\n        backgroundColor: 'green',\n        messageColor: 'white',\n        message: `Found ${data.totalHits} results.`,\n      });\n\n      console.log(data.hits);\n      galleryItems(data.hits);\n      searchForm.reset();\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      iziToast.show({\n        position: 'topRight',\n        backgroundColor: 'red',\n        message: 'Error during the request. Please try again later.',\n      });\n    });\n});\n"],"names":["searchImageByQueryy","query","URL","API_KEY","params","response","galleryLightbox","galleryItems","images","gallery","imageItems","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","searchForm","searchInput","loader","event","userQuery","iziToast","data","error"],"mappings":"6vBAAe,SAAS,cAAc,SAAS,EAE/C,SAASA,EAAoBC,EAAO,CAClC,MAAMC,EAAM,2BAENC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAG,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CAChD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CClBA,IAAIC,EAEJ,SAASC,EAAaC,EAAQ,CAC5B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAAaF,EAAO,IACxB,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,IAAU;AAAA;AAAA,eAEKL,CAAa;AAAA,kBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,wDAGYC,CAAK;AAAA,uDACNC,CAAK;AAAA,0DACFC,CAAQ;AAAA,2DACPC,CAAS;AAAA;AAAA;AAAA;AAAA,CAKpE,EAEER,EAAQ,mBAAmB,YAAaC,EAAW,KAAK,EAAE,CAAC,EAEvDJ,EACFA,EAAgB,QAAO,EAEvBA,EAAkB,IAAIY,EAAe,aAAc,CAAE,CAAA,CAEzD,CCnCA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAW,iBAAiB,SAAUG,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMC,EAAYH,EAAY,MAAM,KAAI,EAExC,GAAI,CAACG,EACH,OAAOC,EAAS,KAAK,CACnB,SAAU,SACV,gBAAiB,SACjB,QAAS,gCACf,CAAK,EAGHH,EAAO,MAAM,QAAU,QAEvBrB,EAAoBuB,CAAS,EAC1B,KAAKE,GAAQ,CAEZ,GADAJ,EAAO,MAAM,QAAU,OACnBI,EAAK,KAAK,SAAW,EACvB,OAAOD,EAAS,KAAK,CACnB,SAAU,WACV,gBAAiB,MACjB,aAAc,QACd,QACE,0EACZ,CAAS,EAEHA,EAAS,KAAK,CACZ,SAAU,WACV,gBAAiB,QACjB,aAAc,QACd,QAAS,SAASC,EAAK,SAAS,WACxC,CAAO,EAED,QAAQ,IAAIA,EAAK,IAAI,EACrBlB,EAAakB,EAAK,IAAI,EACtBN,EAAW,MAAK,CACtB,CAAK,EACA,MAAMO,GAAS,CACdL,EAAO,MAAM,QAAU,OACvBG,EAAS,KAAK,CACZ,SAAU,WACV,gBAAiB,MACjB,QAAS,mDACjB,CAAO,CACP,CAAK,CACL,CAAC"}